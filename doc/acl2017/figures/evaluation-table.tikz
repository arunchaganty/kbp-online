% vim:ft=tex
% Diagram depciting how mentions and entities are sampled.
\documentclass{article}
%\usetikzlibrary{...}% tikz package already loaded by 'tikz' option
\usepackage{scabby-diag}
\usepackage{booktabs}
\usetikzlibrary{fit}
\usetikzlibrary{patterns}

\begin{document}

\tikzset{correct/.style = {fill=green},
         incorrect/.style = {pattern=north east lines, pattern color=red},
         node/.style = {circle, scale=.7},
         sysa/.style = {draw, circle, dashed, thick, purple},
         sysb/.style = {draw, circle, dotted, thick, blue},
         output/.style = {inner sep=-2pt},
         duplicate/.style = {draw, rectangle, thick, red},
         part/.style = {draw, rectangle, dashed, black, thick},
        }

\begin{table}
\begin{tabular}{l | c c c c} \toprule
  $s$ & $f_1$ & $f_2$ & $f_3$ & $f_4$ \\ \midrule
  & 
    \tikz{
  \node[node,correct] (m11){$m_{11}$};
  \node[sysa,output,fit= (m11)] (m11A){};
  } 
  & 
  \tikz{
  \node[node, correct] (m21) {$m_{21}$};
    \node[sysa, output, fit= (m21)] (m21A) {};
  }
  & 
  \tikz{
    \node[node, correct] (m31) {$m_{31}$};
    \node[sysa, output, fit= (m31)] (m31A) {};
    }
  & 
  \tikz{
    \node[node, correct] (m41) {$m_{41}$};
    }
  \\

  & 
  \tikz{
  \node[node,incorrect] (m12){$m_{12}$};
  \node[sysb,output,fit= (m11)](m11B){};
  } 
  & 
  \tikz{
    \node[node, incorrect] (m22) {$m_{22}$};
    \node[sysb, output, fit= (m22)] (m22B) {};
  }
  
  &
  \tikz{
    \node[node, correct] (m32) {$m_{32}$};
    \node[sysa, output, fit= (m32)] (m32A) {};
    \node[duplicate, fit= (m32A)] (m32AD) {};
    }
  & \\
  & 
  \tikz{
    \node[node,correct] (m13){$m_{13}$};
  }
  & & & \\
  & 
    \tikz{
  \node[node,correct] (m14){$m_{14}$};
  \node[sysa,output,fit= (m14)] (m14A){};
  \node[sysb,output,fit= (m14A)]{};
  } 
  \\
  \bottomrule

\end{tabular}
\end{table}


\end{document}
